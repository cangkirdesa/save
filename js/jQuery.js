var ErrorLogger=function(){function t(){}return t.init=function(){var n=this;$.Deferred.exceptionHook=function(t){t&&!t.status&&(t.stack!==n.prevErrStack&&n.deferredErrorHandler(t),n.prevErrStack=t.stack)},$(document).ajaxError(function(t,n,e,o){var r="https://www.dropbox.com/static/api/2/dropins.js"==e.url&&404==n.status;0===n.status||r||(r=e.data?e.data.substring?e.data.substring(0,1e3):e.data.name:"EMPTY",n="AJAX "+n.status+" "+o+"\nRequest URL: "+e.method+" "+e.url+"\n\nRequest body: "+r+"\n\nResponse: "+n.responseText,window.logJsError(n))})},t.deferredErrorHandler=function(t){var n=t.toString(),n=t.message||n;n+=t.stack?"\n"+t.stack:"",window.logJsError(n)},t.debugLogAdd=function(t){window.debugLog=window.debugLog||[];var n=new Date;window.debugLog.push(n.getHours()+":"+n.getMinutes()+":"+n.getSeconds()+"."+n.getMilliseconds()+" - "+t+":")},t}(),Eventable=function(){function t(){this.handlers={}}return t.prototype.trigger=function(t){for(var n=this,e=[],o=1;o<arguments.length;o++)e[o-1]=arguments[o];t.split(" ").forEach(function(t){return $(n).triggerHandler(t,e)})},t}(),__extends=this&&this.__extends||function(){var o=function(t,n){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var e in n)Object.prototype.hasOwnProperty.call(n,e)&&(t[e]=n[e])})(t,n)};return function(t,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function e(){this.constructor=t}o(t,n),t.prototype=null===n?Object.create(n):(e.prototype=n.prototype,new e)}}(),Dom=function(t){function n(){return null!==t&&t.apply(this,arguments)||this}return __extends(n,t),n.prototype.getLogJsErrorPath=function(){return $("body").data("log-js-error-path")},n}(Eventable),Utils=function(){function t(){}return t.toggleSlideEl=function(t){t.hasClass("hidden")?t.hide().removeClass("hidden").slideDown():t.slideUp("fast",function(){return t.addClass("hidden")})},t.showSlideEl=function(t){t.hide().removeClass("hidden").slideDown()},t.hideSlideEl=function(t){t.slideUp("fast",function(){return t.addClass("hidden")})},t.toggleFadeEl=function(t){t.hasClass("hidden")?t.hide().removeClass("hidden").fadeIn():t.fadeOut("fast",function(){return t.addClass("hidden")})},t.reloadPage=function(t){void 0===t&&(t=!0),t&&(location.hash=""),location.reload()},t}(),BodyDom=function(e){function t(){var t=e.call(this)||this,n=t;return t.locale=$("html").attr("lang"),t.elBody=$("body"),jQuery(".JSR").click(function(){var t=jQuery(this);t.parent().find(".hidden").removeClass("hidden"),t.addClass("hidden")}),t.elTopNavContainer=$(".TmC"),$(".JStV").click(function(){$(".img-AtS.JStV").toggleClass("active"),n.elTopNavContainer.toggleClass("hidden")}),$("body").on("click",function(t){$(t.target).hasClass("JStV")||0!==$(t.target).parents(".TmC, .JStV").length||n.elTopNavContainer.hasClass("hidden")||n.closeTopNav(n.elTopNavContainer)}),jQuery(".GrT").click(function(){$(this).parent().toggleClass("open")}),$(".JScMM, .UsM .MnI").click(function(){return t.closeTopNav(n.elTopNavContainer)}),$(document).keyup(function(t){"Escape"===t.key&&($(".modal-overlay:not(.hidden)").addClass("hidden"),n.elTopNavContainer.hasClass("hidden")||n.elTopNavContainer.addClass("hidden"))}),t}return __extends(t,e),t.prototype.closeTopNav=function(t){t.addClass("hidden"),$(".JStV").removeClass("active")},t}(Dom),Orders=function(){},DataLayerPush=function(){function t(){}return t.orders=Orders,t}(),ConvertCounter=new function(){},Navigation=function(){function t(){}return t.init=function(){window.onpopstate=function(t){t.state&&t.state.targetId?0<(t=$("#cid="+t.state.targetId)).length&&t.data("history-back")&&t.data("history-back")():Utils.getLocationParameter("cid")&&Utils.reloadPage()}},t}(),Init=function(){function t(){}return t.domReady=function(){var t=new BodyDom;User.init(new UserDom(t)),ConvertCounter.init()},t}(),App=function(){function t(){}return t.run=function(){"undefined"==typeof jQuery?document.getElementById("jquery").addEventListener("load",this.jQueryReady):this.jQueryReady()},t.jQueryReady=function(){$.ajaxSetup({cache:!0}),ErrorLogger.init(),Navigation.init(),$(document).ready(function(){return Init.domReady()})},t}();App.run();
